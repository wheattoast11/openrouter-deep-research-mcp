# v2.0 Deployment Guide

## Pre-Deployment Checklist

### ‚úÖ Code Readiness
- [x] All features implemented
- [x] All existing tests passing
- [x] New v2.0 tests created
- [x] Production validation script created
- [x] Bug fixes applied
- [x] Dependencies installed

### ‚úÖ Documentation Readiness
- [x] README.md rewritten
- [x] CHANGELOG.md comprehensive
- [x] Migration guide (MIGRATION-v2.0.md)
- [x] Architecture docs (v2.0-ARCHITECTURE.md)
- [x] User journey examples (v2.0-USER-JOURNEYS.md)
- [x] Quick start guide (QUICKSTART-v2.0.md)
- [x] Release notes (RELEASE-v2.0.0.md)
- [x] Feature matrix (FEATURE-MATRIX-v2.0.md)
- [x] Implementation summary
- [x] Git workflow guide

### ‚úÖ Repository Cleanup
- [x] Extraneous files removed
- [x] .npmignore configured
- [x] Client add-on in separate directory
- [x] Tests organized

## Deployment Steps

### Step 1: Validate Implementation

```bash
# Run production validation
npm run validate:v2.0.0

# Expected output: All checks pass
```

### Step 2: Run Test Suite

```bash
# Run existing tests
npm run test:suite

# Run v2.0 specific tests
npm run test:v2

# Expected: All tests pass
```

### Step 3: Create Release Branch

```bash
# Option A: Beta branch (recommended)
git checkout -b release/v2.0.0-beta
git add .
git commit -m "feat: v2.0.0-beta - Agentic Intelligence Platform

[See docs/GIT-WORKFLOW-v2.0.md for full commit message]"
git push origin release/v2.0.0-beta

# Option B: Direct release
git checkout -b release/v2.0.0
git add .
git commit -m "feat: v2.0.0 - Agentic Intelligence Platform"
git tag -a v2.0.0 -m "Release v2.0.0"
git push origin release/v2.0.0 --tags
```

### Step 4: Publish to NPM

```bash
# Login (if not already)
npm login

# Dry run
npm pack

# Verify package contents
tar -tzf terminals-tech-openrouter-agents-2.0.0.tgz | head -20

# Publish
npm publish --access public

# Verify
npm view @terminals-tech/openrouter-agents
npm view @terminals-tech/openrouter-agents@2.0.0
```

### Step 5: Create GitHub Release

1. Go to: https://github.com/wheattoast11/openrouter-deep-research/releases/new
2. **Tag**: `v2.0.0`
3. **Title**: `v2.0.0 - Agentic Intelligence Platform`
4. **Description**: Paste content from `docs/RELEASE-v2.0.0.md`
5. **Assets**: Attach npm tarball (optional)
6. **Publish release**

### Step 6: Update Documentation Sites

```bash
# GitHub README is auto-updated from repo

# Update terminals.tech website (if applicable)
# - Link to new release
# - Highlight v2.0 features
# - Provide migration examples
```

### Step 7: Announce Release

**Channels**:
- GitHub Discussions
- Twitter/X (@terminals_tech if exists)
- Reddit r/MachineLearning, r/LocalLLaMA
- Model Context Protocol community
- OpenRouter Discord/community

**Message Template**:
```
üöÄ OpenRouter Agents v2.0 is here!

A true step-change in agentic MCP servers:
‚ú® Bidirectional WebSocket communication
‚è∞ Temporal scheduling & proactive monitoring  
üß† Universal knowledge graph
üéØ "Magic" workflow prompts
üì° Full MCP resource subscriptions

100% backward compatible with v1.6.

npm install @terminals-tech/openrouter-agents@2.0.0

Docs: [link]
```

## Post-Deployment Monitoring

### First 24 Hours

- Monitor npm download count
- Watch GitHub issues for bug reports
- Check server logs if self-hosting
- Respond to community questions

### First Week

- Collect user feedback
- Identify common pain points
- Document FAQ
- Plan v2.0.1 if needed

### First Month

- Evaluate adoption rate
- Gather feature requests
- Plan v2.1 roadmap
- Consider advanced features (multi-tenancy, voice, swarms)

## Emergency Procedures

### Critical Bug Found

```bash
# Immediately deprecate
npm deprecate @terminals-tech/openrouter-agents@2.0.0 "Critical issue - use v1.6.0"

# Direct traffic to stable
npm dist-tag add @terminals-tech/openrouter-agents@1.6.0 latest

# Fix issue, publish v2.0.1
# ... fix code ...
npm version patch  # ‚Üí v2.0.1
npm publish
```

### Rollback to v1.6

```bash
# If v2.0 needs to be pulled entirely
npm dist-tag add @terminals-tech/openrouter-agents@1.6.0 latest
npm deprecate @terminals-tech/openrouter-agents@2.0.0 "Rolled back to v1.6.0 for stability"

# Update GitHub release to mark as "Pre-release"
```

## Success Criteria

After 2 weeks:
- [ ] No critical bugs reported
- [ ] npm downloads increasing
- [ ] Positive community feedback
- [ ] At least 5 users testing v2.0 features
- [ ] Documentation is clear (no confusion in issues)

If all criteria met ‚Üí Promote beta to stable:

```bash
git checkout main
git merge release/v2.0.0-beta
git push origin main
```

## Long-Term Maintenance

### v1.6.x (Previous Major)
- Security fixes only
- 6-month support window
- No new features

### v2.0.x (Current)
- Full support
- Bug fixes
- Performance improvements
- Documentation updates

### v2.1+ (Future)
- New features
- Architectural enhancements
- Community-requested improvements

## Deployment Environments

### Development
```bash
MODE=ALL
LOG_LEVEL=debug
ALLOW_NO_API_KEY=true
TEMPORAL_ENABLED=true
GRAPH_AUTO_EXTRACT=true
```

### Staging
```bash
MODE=AGENT
LOG_LEVEL=info
SERVER_API_KEY=staging-secret
TEMPORAL_ENABLED=true
GRAPH_AUTO_EXTRACT=true
REQUIRE_HTTPS=false
```

### Production
```bash
MODE=AGENT
LOG_LEVEL=warn
SERVER_API_KEY=strong-secret-key
TEMPORAL_ENABLED=true
GRAPH_AUTO_EXTRACT=true
REQUIRE_HTTPS=true
PGLITE_RELAXED_DURABILITY=false
```

## Deployment Platforms

### Self-Hosted (Node.js)
```bash
npm install @terminals-tech/openrouter-agents@2.0.0
# Configure .env
npx openrouter-agents
```

### Docker (Future)
```dockerfile
FROM node:20-alpine
WORKDIR /app
RUN npm install @terminals-tech/openrouter-agents@2.0.0
COPY .env .env
CMD ["npx", "openrouter-agents"]
```

### Serverless (Not Recommended)
WebSocket and temporal features require persistent process. Not suitable for AWS Lambda, Vercel, etc.

---

**Deployment is straightforward due to backward compatibility. Users can upgrade with confidence.**

